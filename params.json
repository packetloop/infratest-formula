{
  "name": "Infratest-formula",
  "tagline": "salt formula for the infratest module",
  "body": "# infratest-formula\r\nA [Salt](https://github.com/saltstack/salt) formula to install and configure the [infratest module](https://github.com/ssplatt/saltstack-infratest-module).\r\n\r\nThis formula was initialized with [Saltscaffold](https://github.com/cmarzullo/saltscaffold).\r\n\r\n[![asciicast](https://asciinema.org/a/3b7exrkl5fnjxsj2szp5ik42e.png)](https://asciinema.org/a/3b7exrkl5fnjxsj2szp5ik42e)\r\n\r\n# Default configuration\r\nBy default, the formula is disabled. When enabled, it will install `git`, `python-pip`, and `testinfra` as dependencies for pulling the `infratest` module down from Github and loading it into Salt.\r\n```yaml\r\n# infratest/defaults.yml\r\ninfratest:\r\n  enabled: false\r\n  run_all: false\r\n  mockup:\r\n    enabled: true\r\n    deps:\r\n      - git\r\n      - python-pip\r\n  install:\r\n    git: true\r\n    pkg: infratest # should a package be available in the future\r\n    url: https://github.com/ssplatt/saltstack-infratest-module.git\r\n    target: /srv/salt/_modules\r\n    branch: master\r\n    user: root\r\n    deps:\r\n      from_pip: true\r\n      pkgs:\r\n        - testinfra\r\n```\r\n\r\n# Development and Testing\r\nEnsure Vagrant, Ruby, and Ruby Gems packages are installed.\r\n\r\n(Mac) Install and setup brew:\r\n```\r\nruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"\r\n```\r\n\r\n```\r\nbrew install cask\r\nbrew cask install vagrant\r\n```\r\n\r\n```\r\ncd <formula dir>\r\nbundle install\r\n```\r\nor\r\n```\r\nsudo gem install test-kitchen\r\nsudo gem install kitchen-vagrant\r\nsudo gem install kitchen-salt\r\n```\r\n\r\nRun a converge on the default configuration:\r\n```\r\nkitchen converge\r\n```\r\n\r\n## Test in the Cloud\r\nInstead of running on a VM locally using Vagrant, you can test the formula on a cloud provider, like Linode. The settings are configured in the `.kitchen-ci.yml` file.\r\n\r\nSee the [kitchen-linode](https://github.com/ssplatt/kitchen-linode) repository for more details.\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}